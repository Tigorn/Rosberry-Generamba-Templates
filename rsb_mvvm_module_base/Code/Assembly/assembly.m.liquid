{% include 'header' %}

#import "{{ prefix }}{{ module_info.name }}Assembly.h"
#import "{{ prefix }}{{ module_info.name }}ViewController.h"
#import "{{ prefix }}{{ module_info.name }}Interactor.h"
#import "{{ prefix }}{{ module_info.name }}ViewModel.h"
#import "{{ prefix }}{{ module_info.name }}Router.h"

@implementation {{ prefix }}{{ module_info.name }}Assembly

- ({{ prefix }}{{ module_info.name }}ViewController *)view{{ module_info.name }}Module {
    return [TyphoonDefinition {% if custom_parameters.inherit != nil %}withParent:[self.baseComponents view{{ custom_parameters.inherit }}Module]
                                   class:[{{ prefix }}{{ module_info.name }}ViewController class]{% else %}withClass:[{{ prefix }}{{ module_info.name }}ViewController class]{% endif %}
                          configuration:^(TyphoonDefinition *definition) {
                              [definition injectProperty:@selector(output)
                                                    with:[self viewModel{{ module_info.name }}Module]];
                          }];
}

- ({{ prefix }}{{ module_info.name }}Interactor *)interactor{{ module_info.name }}Module {
    return [TyphoonDefinition {% if custom_parameters.inherit != nil %}withParent:[self.baseComponents interactor{{ custom_parameters.inherit }}Module]
                                   class:[{{ prefix }}{{ module_info.name }}Interactor class]{% else %}withClass:[{{ prefix }}{{ module_info.name }}Interactor class]{% endif %}
                          configuration:^(TyphoonDefinition *definition) {
                              
                          }];
}

- ({{ prefix }}{{ module_info.name }}ViewModel *)viewModel{{ module_info.name }}Module {
    return [TyphoonDefinition {% if custom_parameters.inherit != nil %}withParent:[self.baseComponents viewModel{{ custom_parameters.inherit }}Module]
                                   class:[{{ prefix }}{{ module_info.name }}ViewModel class]{% else %}withClass:[{{ prefix }}{{ module_info.name }}ViewModel class]{% endif %}
                          configuration:^(TyphoonDefinition *definition) {
                              [definition injectProperty:@selector(interactor)
                                                    with:[self interactor{{ module_info.name }}Module]];
                              [definition injectProperty:@selector(router)
                                                    with:[self router{{ module_info.name }}Module]];
                          }];
}

- ({{ prefix }}{{ module_info.name }}Router *)router{{ module_info.name }}Module {
    return [TyphoonDefinition {% if custom_parameters.inherit != nil %}withParent:[self.baseComponents router{{ custom_parameters.inherit }}Module]
                                   class:[{{ prefix }}{{ module_info.name }}Router class]{% else %}withClass:[{{ prefix }}{{ module_info.name }}Router class]{% endif %}
                          configuration:^(TyphoonDefinition *definition) {
                              [definition injectProperty:@selector(transitionHandler)
                                                    with:[self view{{ module_info.name }}Module]];
                          }];
}

@end
